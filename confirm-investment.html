<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Confirm Investment</title>

<style>
:root {
  --bg: #083a34;
  --card: linear-gradient(135deg, #10c7a7, #0b5f56);
  --accent: #22ff9a;
  --text: #ffffff;
  --muted: #d6f1ec;
}

* { box-sizing: border-box; font-family: system-ui, sans-serif; }

body {
  margin: 0;
  background: #f4f7f7;
}

header {
  padding: 22px;
  background: var(--bg);
  color: white;
}

.container {
  padding: 16px;
}

.card {
  background: var(--card);
  border-radius: 18px;
  padding: 20px;
  color: var(--text);
}

h3 { margin-top: 0; }

.row {
  display: flex;
  justify-content: space-between;
  margin: 10px 0;
}

.notice {
  margin-top: 16px;
  background: rgba(255,255,255,0.15);
  padding: 14px;
  border-radius: 12px;
  font-size: 14px;
  line-height: 1.5;
}

.notice strong {
  color: var(--accent);
}

input {
  width: 100%;
  padding: 14px;
  border-radius: 10px;
  border: none;
  margin-top: 14px;
  font-size: 16px;
}

button {
  width: 100%;
  padding: 15px;
  border-radius: 30px;
  border: none;
  font-weight: 700;
  margin-top: 18px;
  background: linear-gradient(90deg, var(--accent), #00d4ff);
  color: #00352f;
  cursor: pointer;
}

small {
  color: var(--muted);
}
</style>
</head>

<body>

<header>
  <h2>Confirm Investment</h2>
  <p>Please review before proceeding</p>
</header>

<div class="container">

  <div class="card">
    <h3 id="planName">Loading...</h3>

    <div class="row">
      <span>Investment Period</span>
      <strong id="planDays">—</strong>
    </div>

    <div class="row">
      <span>Daily Profit</span>
      <strong id="dailyProfit">—</strong>
    </div>

    <div class="row">
      <span>Minimum Investment</span>
      <strong>ZMK 500</strong>
    </div>

    <input
      type="number"
      id="amount"
      min="500"
      placeholder="Enter amount (Minimum ZMK 500)"
    />

    <div class="notice">
      <strong>How your earnings work:</strong><br><br>

      • You earn profit <strong>every single day</strong> your money stays invested.<br><br>

      • After <strong id="maturityDaysText">—</strong>, your investment becomes
      <strong>withdrawable</strong>.<br><br>

      • If you <strong>do not withdraw</strong> after this period,  
      <strong>your profit continues growing daily</strong> until you cash out.<br><br>

      • There is <strong>no penalty</strong> for withdrawing later.
    </div>

    <button onclick="confirmInvestment()">
      Confirm & Invest
    </button>

    <small>
      By continuing, you agree to the investment terms.
    </small>
  </div>

</div>

<script>
const plan = JSON.parse(localStorage.getItem("plan"));

if (!plan) {
  alert("No plan selected");
  location.href = "plans.html";
}

document.getElementById("planName").innerText = plan.name;
document.getElementById("planDays").innerText = plan.days + " days";
document.getElementById("maturityDaysText").innerText = plan.days + " days";

/*
  LOGIC:
  ZMK 500 → ZMK 10 daily
  Daily profit scales linearly
*/
const DAILY_PER_500 = 10;

document.getElementById("dailyProfit").innerText =
  `ZMK ${DAILY_PER_500} per ZMK 500 / day`;

function confirmInvestment() {
  const amount = Number(document.getElementById("amount").value);

  if (!amount || amount < 500) {
    alert("Minimum investment is ZMK 500");
    return;
  }

  localStorage.setItem("pendingInvestment", JSON.stringify({
    ...plan,
    amount
  }));

  // Redirect to actual processing page
  window.location.href = "processing.html";
}
</script>

</body>
</html>

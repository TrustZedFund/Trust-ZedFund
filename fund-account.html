<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fund Account | Trust ZedFund</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  background: #0b2e1f;
  font-family: Arial, sans-serif;
  color: #ffffff;
  margin: 0;
  padding: 20px;
}

.container {
  max-width: 460px;
  margin: auto;
}

h2 {
  text-align: center;
  margin-bottom: 25px;
}

.method-card {
  background: #114d36;
  padding: 20px;
  border-radius: 14px;
  margin-bottom: 20px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.35);
}

.method-card h3 { margin: 0 0 6px; }

.network {
  font-size: 13px;
  color: #c7f5dd;
  margin-bottom: 12px;
}

.address-box {
  display: flex;
  gap: 8px;
}

.address-box input {
  flex: 1;
  padding: 10px;
  background: #0b2e1f;
  border: none;
  border-radius: 6px;
  color: #fff;
  font-size: 13px;
}

.address-box button {
  background: #f4c430;
  border: none;
  padding: 10px 14px;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}

.warning {
  font-size: 13px;
  color: #ffb3b3;
  margin-top: 10px;
}

.note {
  font-size: 13px;
  color: #a7ffcf;
  margin-top: 10px;
}

.highlight {
  border: 1px solid #1dd88a;
}

.upload-card {
  background: #0f3f2d;
  padding: 20px;
  border-radius: 14px;
  margin-top: 30px;
}

.upload-card label {
  display: block;
  font-size: 14px;
  margin-bottom: 6px;
}

.upload-card input,
.upload-card select {
  width: 100%;
  padding: 10px;
  background: #0b2e1f;
  border: none;
  border-radius: 6px;
  color: #fff;
  margin-bottom: 14px;
}

.upload-card input[type="file"] { background: none; }

.submit-btn {
  width: 100%;
  padding: 12px;
  background: #1dd88a;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}

.footer {
  text-align: center;
  font-size: 12px;
  color: #9bd9c0;
  margin-top: 30px;
}
</style>
</head>

<body>

<div class="container">
<h2>Fund Your Account</h2>

<!-- BEP20 -->
<div class="method-card">
  <h3>USDT â€“ BSC Network</h3>
  <p class="network">BNB Smart Chain (BEP20)</p>
  <div class="address-box">
    <input id="bep20" value="0x2837db956aba84eb2670d00aeea5c0d8a9e20a01" readonly>
    <button onclick="copyText('bep20')">Copy</button>
  </div>
  <p class="warning">ðŸ”´ Send USDT only via BEP20.</p>
</div>

<!-- TRC20 -->
<div class="method-card">
  <h3>USDT â€“ TRON Network</h3>
  <p class="network">TRC20</p>
  <div class="address-box">
    <input id="trc20" value="TJREgZTuTnvRrw5Fme4DDd6hSwCEwxQV3f" readonly>
    <button onclick="copyText('trc20')">Copy</button>
  </div>
  <p class="warning">ðŸ”´ Send USDT only via TRC20.</p>
</div>

<!-- Binance -->
<div class="method-card highlight">
  <h3>Direct Binance Transfer</h3>
  <p class="network">Internal Binance ID</p>
  <div class="address-box">
    <input id="binance" value="809423171" readonly>
    <button onclick="copyText('binance')">Copy</button>
  </div>
  <p class="note">âœ… No blockchain fees</p>
</div>

<!-- Upload -->
<div class="upload-card">
  <h3>Upload Transaction Proof</h3>

  <label>Payment Method Used</label>
  <select id="method">
    <option value="">Select method</option>
    <option>USDT - BEP20 (BSC)</option>
    <option>USDT - TRC20 (TRON)</option>
    <option>Binance ID Transfer</option>
  </select>

  <label>Amount Sent (USDT)</label>
  <input id="amount" type="number">

  <label>Transaction Proof</label>
  <input id="proof" type="file" accept="image/*,.pdf">

  <p class="warning" id="status"></p>

  <button class="submit-btn" id="submitBtn">Submit Proof</button>
</div>

<div class="footer">Â© 2026 Trust ZedFund</div>
</div>

<script type="module">
import { auth, submitDepositProof } from "./firebase.js";
import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

let currentUser = null;
const status = document.getElementById("status");

onAuthStateChanged(auth, user => {
  if (!user) {
    status.textContent = "âŒ Please login to submit proof.";
    document.getElementById("submitBtn").disabled = true;
  } else {
    currentUser = user;
  }
});

document.getElementById("submitBtn").onclick = async () => {
  const method = methodEl.value;
  const amount = Number(amountEl.value);
  const file = proof.files[0];

  if (!method || !amount || !file) {
    status.textContent = "âš  Complete all fields.";
    return;
  }

  status.textContent = "Uploading proof...";
  await submitDepositProof(currentUser.uid, { method, amount }, file);
  status.textContent = "âœ… Submitted. Await approval.";
};
</script>

<script>
function copyText(id) {
  const el = document.getElementById(id);
  navigator.clipboard.writeText(el.value);
  alert("Copied successfully!");
}
</script>

</body>
</html>

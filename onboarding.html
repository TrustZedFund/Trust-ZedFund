<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trust ZedFund | Guided Setup</title>

<style>
:root {
  --dark-green:#0b3d2e;
  --dark-green-hover:#0e4a37;
  --yellow:#ffd700;
  --white:#ffffff;
}

body {
  background:#06271d;
  color:var(--white);
  font-family:Arial, sans-serif;
  padding:40px 20px;
}

.container {
  max-width:900px;
  margin:auto;
}

.progress {
  height:6px;
  background:rgba(255,255,255,.2);
  border-radius:6px;
  overflow:hidden;
  margin-bottom:24px;
}

.progress-bar {
  height:100%;
  width:20%;
  background:var(--yellow);
  transition:.4s;
}

.card {
  background:var(--dark-green);
  padding:32px;
  border-radius:16px;
  margin-bottom:24px;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
  animation:fade .35s ease;
}

@keyframes fade {
  from {opacity:0; transform:translateY(8px);}
  to {opacity:1; transform:translateY(0);}
}

h2 {color:var(--yellow); margin-top:0;}
p {line-height:1.6;}

.options {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:16px;
  margin-top:20px;
}

button {
  cursor:pointer;
}

.btn {
  padding:14px 30px;
  border-radius:40px;
  font-weight:bold;
  border:none;
  transition:.25s;
}

.btn-primary {
  background:var(--yellow);
  color:#06271d;
}

.btn-outline {
  background:transparent;
  border:2px solid var(--yellow);
  color:var(--yellow);
}

.btn:hover {
  transform:translateY(-2px);
}

.hidden {display:none;}

label {
  display:block;
  margin-top:14px;
}

input, select {
  width:100%;
  padding:10px;
  border-radius:8px;
  border:none;
  margin-top:6px;
}

.preview {
  background:#06271d;
  border-radius:12px;
  padding:16px;
  font-size:.9rem;
  margin-top:16px;
}

.actions {
  margin-top:24px;
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
</style>
</head>

<body>

<div class="container">

<div class="progress">
  <div class="progress-bar" id="progressBar"></div>
</div>

<!-- STEP 1 -->
<section class="card" id="step1">
<h2>Welcome to Trust ZedFund</h2>
<p>Let‚Äôs create a secure and transparent way to manage money together.</p>

<div class="options">
  <button class="btn btn-outline" onclick="chooseType('Individual')">üë§ Individual</button>
  <button class="btn btn-outline" onclick="chooseType('Community')">üë• Community</button>
  <button class="btn btn-outline" onclick="chooseType('Organization')">üè¢ Organization</button>
</div>

<p style="opacity:.8;margin-top:16px">üîí Rules enforced ¬∑ üëÅ Transparent ¬∑ ü§ù Trust-first</p>
</section>

<!-- STEP 2 -->
<section class="card hidden" id="step2">
<h2>Name Your Fund</h2>
<p>This name appears on all records.</p>

<input id="fundName" placeholder="e.g. Community Water Project">

<div class="actions">
  <button class="btn btn-outline" onclick="goBack()">Back</button>
  <button class="btn btn-primary" onclick="goStep(3)">Continue</button>
</div>
</section>

<!-- STEP 3 -->
<section class="card hidden" id="step3">
<h2>Set Basic Rules</h2>

<label>Who can approve spending?</label>
<select id="approvals">
  <option>All members</option>
  <option>Majority approval</option>
  <option>Admins only</option>
</select>

<label>When can funds be released?</label>
<select id="release">
  <option>After approval</option>
  <option>On a specific date</option>
  <option>After milestone completion</option>
</select>

<div class="actions">
  <button class="btn btn-outline" onclick="goBack()">Back</button>
  <button class="btn btn-primary" onclick="goStep(4)">Continue</button>
</div>
</section>

<!-- STEP 4 -->
<section class="card hidden" id="step4">
<h2>Smart Recommendations</h2>
<p>Based on similar setups, we suggest:</p>

<div class="preview">
‚úî Dual approval for withdrawals<br>
‚úî Spending limits per transaction<br>
‚úî Full visibility for contributors
</div>

<p style="opacity:.8;margin-top:10px">You can adjust these anytime.</p>

<div class="actions">
  <button class="btn btn-outline" onclick="goBack()">Back</button>
  <button class="btn btn-primary" onclick="goStep(5)">Continue</button>
</div>
</section>

<!-- STEP 5 -->
<section class="card hidden" id="step5">
<h2>Preview Your Fund</h2>

<div class="preview">
<strong>Name:</strong> <span id="pName"></span><br>
<strong>Type:</strong> <span id="pType"></span><br>
<strong>Approval:</strong> <span id="pApproval"></span><br>
<strong>Release:</strong> <span id="pRelease"></span><br><br>
Balance: $0.00<br>
Status: Locked until rules are met
</div>

<div class="actions">
  <button class="btn btn-outline" onclick="goStep(3)">Edit Rules</button>
  <button class="btn btn-outline" onclick="goBack()">Back</button>
  <button class="btn btn-primary" onclick="finish()">Create Fund</button>
</div>
</section>

<!-- FINAL -->
<section class="card hidden" id="final">
<h2>üéâ Setup Complete</h2>
<p>Your trust structure is ready. Invite others and begin funding.</p>

<div class="actions">
  <a href="register.html" class="btn btn-primary">Create Account</a>
  <button class="btn btn-outline" onclick="resetFlow()">Create Another Fund</button>
</div>

<p style="margin-top:12px;font-size:.85rem;opacity:.8">
Your setup was saved securely.
</p>
</section>

</div>

<script>
let state = JSON.parse(localStorage.getItem('tzf')) || { step:1 };
const progress = document.getElementById('progressBar');

function chooseType(type){
  state.type = type;
  goStep(2);
}

function goStep(step){
  save();
  document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));
  document.getElementById('step'+step).classList.remove('hidden');
  state.step = step;
  progress.style.width = (step*20)+'%';
  save();
}

function goBack(){
  if(state.step > 1){
    goStep(state.step - 1);
  }
}

function finish(){
  save();
  document.getElementById('pName').innerText = state.fundName;
  document.getElementById('pType').innerText = state.type;
  document.getElementById('pApproval').innerText = state.approvals;
  document.getElementById('pRelease').innerText = state.release;

  document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));
  document.getElementById('final').classList.remove('hidden');
  progress.style.width = '100%';
  state.step = 'done';
  save();
}

function resetFlow(){
  localStorage.removeItem('tzf');
  location.reload();
}

function save(){
  state.fundName = document.getElementById('fundName')?.value || state.fundName;
  state.approvals = document.getElementById('approvals')?.value || state.approvals;
  state.release = document.getElementById('release')?.value || state.release;
  localStorage.setItem('tzf', JSON.stringify(state));
}

/* Resume */
window.onload = function(){
  if(state.step && state.step !== 'done'){
    document.getElementById('step1').classList.add('hidden');
    goStep(state.step);
    document.getElementById('fundName').value = state.fundName || '';
  }
};
</script>

</body>
</html>
